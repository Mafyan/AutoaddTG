# ๐ User Control Bot - ะัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ

## ๐ฏ ะงัะพ ััะพ?

**User Control Bot** - ััะพ ะบะพะผะฟะปะตะบัะฝะฐั ัะธััะตะผะฐ ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ัะฟัะฐะฒะปะตะฝะธั ะดะพัััะฟะพะผ ัะพัััะดะฝะธะบะพะฒ ะบ Telegram ัะฐัะฐะผ ะฝะฐ ะพัะฝะพะฒะต ะธั ัะพะปะตะน.

## โจ ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

### ะะปั ัะพัััะดะฝะธะบะพะฒ ๐ฅ
- โ ะัะพััะฐั ัะตะณะธัััะฐัะธั ัะตัะตะท ะฑะพัะฐ (ะพัะฟัะฐะฒะบะฐ ะฝะพะผะตัะฐ ัะตะปะตัะพะฝะฐ)
- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟะพะปััะตะฝะธะต ัััะปะพะบ ะฝะฐ ัะฐัั ะฟะพัะปะต ะพะดะพะฑัะตะฝะธั
- โ ะัะพะฒะตัะบะฐ ััะฐัััะฐ ะทะฐัะฒะบะธ
- โ ะะพะปััะตะฝะธะต ะฐะบััะฐะปัะฝัั ัััะปะพะบ ะฒ ะปัะฑะพะต ะฒัะตะผั

### ะะปั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ ๐จโ๐ผ
- โ ะฃะดะพะฑะฝะฐั ะฒะตะฑ-ะฟะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั
- โ ะะฑัะฐะฑะพัะบะฐ ะทะฐัะฒะพะบ ะฝะฐ ัะตะณะธัััะฐัะธั
- โ ะฃะฟัะฐะฒะปะตะฝะธะต ัะพะปัะผะธ ะธ ะธั ะฟัะธะฒัะทะบะฐ ะบ ัะฐัะฐะผ
- โ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
- โ ะฃะฟัะฐะฒะปะตะฝะธะต ัะฐัะฐะผะธ
- โ ะกัะฐัะธััะธะบะฐ ะธ ะฐะฝะฐะปะธัะธะบะฐ

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ
โ  ะะพะปัะทะพะฒะฐัะตะปั   โ
โ   (Telegram)    โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
         โผ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
โ  Telegram Bot   โโโโโโถโ   Database   โ
โ  (Python)       โ     โ   (SQLite)   โ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโฌโโโโโโโโ
                               โ
                               โผ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
โ ะะดะผะธะฝะธัััะฐัะพั   โโโโโโถโ  Admin Panel โ
โ   (ะัะฐัะทะตั)     โ     โ  (FastAPI)   โ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
```

## ๐ฆ ะงัะพ ะฒัะพะดะธั ะฒ ะฟัะพะตะบั?

### 1. Telegram Bot
- ะะฑัะฐะฑะพัะบะฐ ะบะพะผะฐะฝะด ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะัะธัะผ ะฝะพะผะตัะพะฒ ัะตะปะตัะพะฝะฐ
- ะัะฟัะฐะฒะบะฐ ัะฒะตะดะพะผะปะตะฝะธะน
- ะัะดะฐัะฐ ัััะปะพะบ ะฝะฐ ัะฐัั

### 2. ะะดะผะธะฝ-ะฟะฐะฝะตะปั (Web)
- ะกะพะฒัะตะผะตะฝะฝัะน UI ะฝะฐ Bootstrap 5
- ะฃะฟัะฐะฒะปะตะฝะธะต ะทะฐัะฒะบะฐะผะธ
- CRUD ะพะฟะตัะฐัะธะธ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน, ัะพะปะตะน, ัะฐัะพะฒ
- ะกัะฐัะธััะธะบะฐ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

### 3. ะะฐะทะฐ ะดะฐะฝะฝัั
- SQLite (ะปะตะณะบะฐั, ัะฐะนะปะพะฒะฐั)
- 5 ัะฐะฑะปะธั: users, roles, chats, role_chats, admins
- ะะพะปะฝะฐั ะฟะพะดะดะตัะถะบะฐ ัะฒัะทะตะน many-to-many

### 4. ะกะธััะตะผะฐ ะดะตะฟะปะพั
- ะะฒัะพะผะฐัะธัะตัะบะธะน ัะบัะธะฟั ัััะฐะฝะพะฒะบะธ
- ะะพะฝัะธะณััะฐัะธั Nginx
- ะะฐัััะพะนะบะฐ Supervisor ะดะปั ะฐะฒัะพะทะฐะฟััะบะฐ
- ะะพะดะดะตัะถะบะฐ SSL/HTTPS

## ๐ ะัััััะน ััะฐัั

### Windows

```batch
# 1. ะฃััะฐะฝะพะฒะบะฐ
install.bat

# 2. ะะตะดะฐะบัะธััะนัะต .env (ะดะพะฑะฐะฒััะต BOT_TOKEN)

# 3. ะะฐะฟััะบ
start_all.bat
```

### Linux

```bash
# 1. ะฃััะฐะฝะพะฒะบะฐ
bash install.sh

# 2. ะะตะดะฐะบัะธััะนัะต .env (ะดะพะฑะฐะฒััะต BOT_TOKEN)

# 3. ะะฐะฟััะบ
bash start_all.sh
```

### Ubuntu Server (Production)

```bash
sudo bash deploy/deploy.sh
```

## ๐ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

| ะะพะผะฟะพะฝะตะฝั | ะขะตัะฝะพะปะพะณะธั | ะะตััะธั |
|-----------|-----------|--------|
| ะฏะทัะบ | Python | 3.10+ |
| Telegram API | python-telegram-bot | 20.7 |
| Web Framework | FastAPI | 0.109.0 |
| ORM | SQLAlchemy | 2.0.25 |
| Database | SQLite | ะฒัััะพะตะฝะฝะฐั |
| Frontend | Bootstrap | 5.3.0 |
| Auth | JWT (python-jose) | 3.3.0 |
| Passwords | bcrypt (passlib) | 1.7.4 |

## ๐ ะกัััะบัััะฐ ัะฐะนะปะพะฒ

```
UserControlBot/
โโโ bot/              # Telegram ะฑะพั
โโโ admin_panel/      # ะะตะฑ-ะฟะฐะฝะตะปั
โโโ database/         # ะะฐะทะฐ ะดะฐะฝะฝัั
โโโ static/           # CSS/JS
โโโ deploy/           # ะะพะฝัะธะณััะฐัะธั ะดะตะฟะปะพั
โโโ templates/        # HTML ัะฐะฑะปะพะฝั
```

ะะพะปะฝะฐั ััััะบัััะฐ: [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- โ JWT ัะพะบะตะฝั ะดะปั API
- โ Bcrypt ะดะปั ะฟะฐัะพะปะตะน
- โ ะะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั
- โ HTTPS ะฒ ะฟัะพะดะฐะบัะตะฝะต
- โ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะดะปั ัะตะบัะตัะพะฒ

## ๐ ะะพะบัะผะตะฝัะฐัะธั

| ะคะฐะนะป | ะะฟะธัะฐะฝะธะต |
|------|----------|
| [README.md](README.md) | ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั |
| [QUICKSTART.md](QUICKSTART.md) | ะัััััะน ััะฐัั ะทะฐ 5 ะผะธะฝัั |
| [instruction.md](instruction.md) | ะะปะฐะฝ ัะฐะทัะฐะฑะพัะบะธ |
| [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) | ะกัััะบัััะฐ ะฟัะพะตะบัะฐ |
| [deploy/README.md](deploy/README.md) | ะะฝััััะบัะธะธ ะฟะพ ะดะตะฟะปะพั |

## ๐ฌ ะะฐะฑะพัะธะน ะฟัะพัะตัั

### ะกัะตะฝะฐัะธะน ะธัะฟะพะปัะทะพะฒะฐะฝะธั:

1. **ะกะพัััะดะฝะธะบ** ะพัะฟัะฐะฒะปัะตั `/start` ะฑะพัั
2. ะะพั ะทะฐะฟัะฐัะธะฒะฐะตั ะฝะพะผะตั ัะตะปะตัะพะฝะฐ
3. ะกะพัััะดะฝะธะบ ะพัะฟัะฐะฒะปัะตั ะฝะพะผะตั
4. **ะะดะผะธะฝะธัััะฐัะพั** ะฒะธะดะธั ะทะฐัะฒะบั ะฒ ะฟะฐะฝะตะปะธ ัะฟัะฐะฒะปะตะฝะธั
5. ะะดะผะธะฝะธัััะฐัะพั ะฒัะฑะธัะฐะตั ัะพะปั ะธ ะพะดะพะฑััะตั
6. **ะะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ** ะพัะฟัะฐะฒะปัะตั ัะพัััะดะฝะธะบั ัััะปะบะธ ะฝะฐ ัะฐัั
7. ะกะพัััะดะฝะธะบ ะผะพะถะตั ะฒ ะปัะฑะพะน ะผะพะผะตะฝั ะฟะพะปััะธัั ัััะปะบะธ ัะตัะตะท `/mychats`

## ๐ง ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั

### ะะพะผะฐะฝะดั ะฑะพัะฐ:
- `/start` - ัะตะณะธัััะฐัะธั
- `/help` - ัะฟัะฐะฒะบะฐ
- `/status` - ััะฐััั ะทะฐัะฒะบะธ
- `/mychats` - ะฟะพะปััะธัั ัััะปะบะธ ะฝะฐ ัะฐัั

### ะะพะผะฐะฝะดั ัะฟัะฐะฒะปะตะฝะธั:

**ะะปั ัะฐะทัะฐะฑะพัะบะธ:**
```bash
python -m database.init_db    # ะะฝะธัะธะฐะปะธะทะฐัะธั ะะ
python run_bot.py              # ะะฐะฟััะบ ะฑะพัะฐ
python run_admin.py            # ะะฐะฟััะบ ะฟะฐะฝะตะปะธ
```

**ะะปั ะฟัะพะดะฐะบัะตะฝะฐ:**
```bash
sudo supervisorctl status      # ะกัะฐััั ัะตัะฒะธัะพะฒ
sudo supervisorctl restart all # ะะตัะตะทะฐะฟััะบ
sudo tail -f /var/log/usercontrol_bot.out.log  # ะะพะณะธ
```

## ๐ก ะะพะปะธ ะฟะพ ัะผะพะปัะฐะฝะธั

ะัะธ ะธะฝะธัะธะฐะปะธะทะฐัะธะธ ัะพะทะดะฐัััั:
1. ะฃะฟัะฐะฒะปัััะธะน
2. ะกะตัะฒะธั-ะผะตะฝะตะดะถะตั
3. ะะตะฝะตะดะถะตั ะพัะดะตะปะฐ ะฟัะพะดะฐะถ
4. ะัะบะพะฒะพะดะธัะตะปั ะพัะดะตะปะฐ ะฟัะพะดะฐะถ
5. ะัะบะพะฒะพะดะธัะตะปั ะพัะดะตะปะฐ ัะตัะฒะธัะฐ
6. ะขะตัะฝะธัะตัะบะธะน ัะฟะตัะธะฐะปะธัั
7. HR-ะผะตะฝะตะดะถะตั
8. ะััะณะฐะปัะตั

ะั ะผะพะถะตัะต ะดะพะฑะฐะฒะปััั/ัะดะฐะปััั/ะธะทะผะตะฝััั ัะพะปะธ ัะตัะตะท ะฟะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั.

## ๐ ะกัะฐัะธััะธะบะฐ ะฟะฐะฝะตะปะธ

ะะดะผะธะฝ-ะฟะฐะฝะตะปั ะฟะพะบะฐะทัะฒะฐะตั:
- ๐ ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- โณ ะะพะปะธัะตััะฒะพ ะพะถะธะดะฐััะธั ะทะฐัะฒะพะบ
- โ ะะพะปะธัะตััะฒะพ ะพะดะพะฑัะตะฝะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- โ ะะพะปะธัะตััะฒะพ ะพัะบะปะพะฝัะฝะฝัั ะทะฐัะฒะพะบ
- ๐ฅ ะะพะปะธัะตััะฒะพ ัะพะปะตะน
- ๐ฌ ะะพะปะธัะตััะฒะพ ัะฐัะพะฒ

## ๐ ะะฑะฝะพะฒะปะตะฝะธะต

```bash
cd /opt/usercontrol
sudo supervisorctl stop all
git pull
source venv/bin/activate
pip install -r requirements.txt
sudo supervisorctl start all
```

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะะพั ะฝะต ะพัะฒะตัะฐะตั
```bash
# ะัะพะฒะตัััะต ะปะพะณะธ
sudo tail -f /var/log/usercontrol_bot.err.log

# ะัะพะฒะตัััะต ัะพะบะตะฝ ะฒ .env
cat .env | grep BOT_TOKEN
```

### ะะฐะฝะตะปั ะฝะตะดะพัััะฟะฝะฐ
```bash
# ะัะพะฒะตัััะต ััะฐััั
sudo supervisorctl status usercontrol_admin

# ะัะพะฒะตัััะต ะฟะพัั
sudo netstat -tulpn | grep 8000
```

## ๐ ะะพะดะดะตัะถะบะฐ

- ๐ ะะพะบัะผะตะฝัะฐัะธั: [README.md](README.md)
- ๐ ะัััััะน ััะฐัั: [QUICKSTART.md](QUICKSTART.md)
- ๐๏ธ ะกัััะบัััะฐ: [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)
- ๐ ะะตะฟะปะพะน: [deploy/README.md](deploy/README.md)

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. [LICENSE](LICENSE)

## ๐ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

ะัะพะตะบั ะฟะพะปะฝะพัััั ะณะพัะพะฒ ะบ ัะฐะทะฒะตัััะฒะฐะฝะธั ะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะบะฐะบ ะฒ ัะฐะทัะฐะฑะพัะบะต, ัะฐะบ ะธ ะฒ ะฟัะพะดะฐะบัะตะฝะต.

---

**ะะตััะธั:** 1.0.0  
**ะะฐัะฐ ัะพะทะดะฐะฝะธั:** 01.10.2025  
**ะะฒัะพั:** User Control Bot Team

